(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{225:function(e,t,o){"use strict";o(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(o(236)),r=y(o(237)),l=y(o(13)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=n?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(23)),i=y(o(442)),s=y(o(443)),u=y(o(444)),c=y(o(445)),d=y(o(447)),p=y(o(453)),f=y(o(456)),h=y(o(271)),b=y(o(460)),m=y(o(462));function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(e){return e&&e.__esModule?e:{default:e}}var g=()=>l.default.createElement("div",{style:h.default.application},l.default.createElement(n.default,{additionalComponentsRight:[l.default.createElement(b.default,null),l.default.createElement(p.default,null)]},l.default.createElement("div",{style:h.default.secondHeader},l.default.createElement("div",{style:h.default.contentWrapper},l.default.createElement("div",{style:h.default.container},l.default.createElement(u.default,{enabled:!0})),l.default.createElement("div",{style:h.default.container},l.default.createElement(c.default,null)),l.default.createElement("div",{style:h.default.container},l.default.createElement(s.default,null)),l.default.createElement(i.default,null),l.default.createElement(f.default,null))),l.default.createElement("div",{style:a.shadow})),l.default.createElement("div",{style:h.default.scrollingContainer},l.default.createElement(m.default,null),l.default.createElement(d.default,null)),l.default.createElement(r.default,null));t.default=g},263:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setValue=t.updateConfig=t.default=void 0,o(8),o(11),o(1),o(0);var n=o(10),r=o(7),l=o(3);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var o=[],n=!0,r=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const i=(e,t)=>{const o=e.value;t.updateNode[e.keypath]=o};t._setValue=i;const s=(e,t,o)=>{let s=o.onDelete,u=o.onUpdateLeaf,c=o.onCreate,d=o.onModifiedNodes;const p=e.changes||[],f=[],h={},b={},m=[];p.forEach(e=>{const o=(0,n.getListPath)(e.keypath,t);(0,r.isNonEmptyString)(o)?m.push(o):("deleted"===e.op&&f.push([e.keypath,!0]),"created"===e.op&&(h[e.keypath]=!0),"default_set"===e.op&&f.push([e.keypath,!1]),"value_set"===e.op&&i(e,{updateNode:b}))}),f.forEach(e=>{let t=a(e,2),o=t[0],n=t[1];s(o,n)}),Object.keys(h).forEach(e=>{c(e)}),Object.keys(b).forEach(e=>{u(e,b[e])}),m.length>0&&d((0,l.uniq)(m))};t.updateConfig=s;var u=s;t.default=u},270:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(13)),r=l(o(20));function l(e){return e&&e.__esModule?e:{default:e}}const a=e=>{let t=e.color;return n.default.createElement("svg",{version:"1.2",baseProfile:"tiny",x:"0px",y:"0px",viewBox:"0 0 24 21",xmlSpace:"preserve"},n.default.createElement("path",{fill:t,d:"M12.7,0.5c-0.4-0.7-1.1-0.7-1.5,0L0.2,19.7C-0.2,20.4,0.1,21,0.9,21h22.2 c0.8,0,1.2-0.6,0.8-1.3L12.7,0.5z M12.7,17.7C12.5,17.9,12.2,18,12,18c-0.3,0-0.5-0.1-0.7-0.3C11.1,17.5,11,17.2,11,17 c0-0.3,0.1-0.5,0.3-0.7c0.4-0.4,1.1-0.4,1.4,0c0.2,0.2,0.3,0.5,0.3,0.7C13,17.2,12.9,17.5,12.7,17.7L12.7,17.7z M13,13.5 c0,0.6-0.5,1-1,1s-1-0.5-1-1v-6c0-0.6,0.5-1,1-1s1,0.5,1,1V13.5L13,13.5z"}))};a.propTypes={color:r.default.string};var i=a;t.default=i},271:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rowStyle=t.labelsMenu=t.DeviceCounter=t.default=void 0,o(1),o(0);var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=n?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(o,l,a):o[l]=e[l]}o.default=e,t&&t.set(e,o);return o}(o(23));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(o,!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.rowStyle={};const s={alignSelf:"center",marginRight:"0.5rem",position:"relative",fontFamilt:n.font2};var u={application:a({},n.application,{height:"100vh",display:"flex",flexFlow:"column",backgroundImage:n.pattern1}),scrollingContainer:{overflow:"auto",flexGrow:"1"},secondHeader:{backgroundColor:n.color11,borderTop:"1px solid #cccccc",height:"50px",justifyContent:"flex-end"},contentWrapper:{display:"flex",maxWidth:n.maxWidth,margin:"0 auto",height:"100%",padding:"0 1rem"},container:a({},s),image:a({},{verticalAlign:"middle",height:"1rem"},{height:"1.5rem"})};t.default=u;const c={width:"1.2rem",height:"1.2rem",left:"5.6rem",transform:"translate(-50%, -50%)rotate(45deg)",backgroundColor:n.color3,position:"absolute"},d={container:s,wrapper:{position:"absolute",width:"9.2rem",backgroundColor:n.color3,padding:"1rem",boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px",color:n.textColor2,fontFamily:n.font2},overlay:{position:"fixed",backgroundColor:"transparent",top:"0",left:"0",width:"100%",height:"100%"},pop:{position:"absolute",left:"-4.5rem",top:"2.55rem",zIndex:"1"},menuArrow:c,menuArrowShadow:a({},c,{boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px"}),header:{marginBottom:"1rem"},labelImage:{height:"0.8rem",verticalAlign:"middle"},labelContainer:{display:"flex"},label:{alignSelf:"center",fontSize:n.medium2,wordBreak:"break-all",marginRight:"0.5rem"},deleteLabel:{marginLeft:"auto",flexShrink:"0",padding:"0",backgroundColor:"transparent",border:"none",cursor:"pointer",color:n.color1,fontSize:n.large1,lineHeight:"1"},createContainer:{display:"flex",marginTop:"0.5rem"},input:{width:"7rem",padding:"0.25rem",border:"1px solid ".concat(n.color6)},button:{cursor:"pointer",border:"none",display:"flex",backgroundColor:"transparent"},symbol:{width:"1.1rem"},arrow:{width:"0.5rem",marginLeft:"0.5rem",alignSelf:"center"}};t.labelsMenu=d;const p={wrapper:{position:"relative",display:"flex",alignSelf:"center",marginLeft:"1rem"},text:{fontSize:"1rem",color:n.textColor2,whiteSpace:"nowrap"}};t.DeviceCounter=p},294:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(1),o(0);var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=n?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(o,l,a):o[l]=e[l]}o.default=e,t&&t.set(e,o);return o}(o(23));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(o,!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const s={width:"1.5rem",height:"1.5rem",borderRadius:"1.5rem",display:"block",padding:"0.3rem"};var u={enabled:a({},s,{cursor:"pointer",border:"1px solid ".concat(n.color1),backgroundColor:n.color1}),disabled:a({},s,{border:"1px solid ".concat(n.color9),backgroundColor:n.color3})};t.default=u},300:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(1),o(0);var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=n?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(o,l,a):o[l]=e[l]}o.default=e,t&&t.set(e,o);return o}(o(23));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(o,!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const s={width:"1.2rem",height:"1.2rem",top:"-0.5rem",left:"8.5rem",transform:"rotate(43deg)",backgroundColor:n.color3,position:"absolute"},u={width:"0.7rem",padding:"0.25rem",cursor:"pointer"},c={display:"flex",color:"grey",cursor:"pointer",padding:"0.25rem 0.5rem"};var d={popDownMenu:{pop:{position:"absolute",right:"13rem",top:"2.25rem",zIndex:"1"},menuArrow:s,menuArrowShadow:a({},s,{boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px"}),wrapper:{position:"absolute",right:"-14rem",width:"9.2rem",backgroundColor:n.color3,padding:"0.75rem 0",boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px",color:n.color9},header:{marginBottom:"1rem"}},labelFilter:{display:"flex",alignSelf:"center",fontSize:"0.6rem",padding:"0.1rem 0",flexGrow:2,justifyContent:"flex-end"},wrapper:{margin:"0 0.25rem",padding:"0.1875rem 0.5rem",display:"flex",alignItems:"center",border:"solid 1px ".concat(n.color9),borderRadius:"0.81rem",backgroundColor:n.backgroundColor1,position:"relative",fontSize:n.small3,color:n.color9},label:{alignSelf:"center",color:"#000",display:"inline",padding:"0 0.5rem",whiteSpace:"nowrap"},tip:{height:"1.2rem"},delete:a({},u),add:a({},u,{color:n.color1}),button:{position:"relative",padding:"0",margin:"0",color:n.color1,display:"inline-block",border:"none",backgroundColor:"transparent",lineHeight:"0",cursor:"pointer",":focus":{outline:"none"}},deviceGroupsOptions:c,deviceGroupsOptionsActive:a({},c,{backgroundColor:n.backgroundColor3}),notFound:{width:"100%",color:"grey",padding:"0.25rem 0.5rem",textAlign:"center",boxSizing:"border-box"}};t.default=d},442:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._DeviceCounter=t.default=void 0;var n=u(o(13)),r=u(o(20)),l=o(24),a=u(o(228)),i=o(58),s=o(271);function u(e){return e&&e.__esModule?e:{default:e}}class c extends n.default.Component{constructor(e){super(e),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this)}showTooltip(){this.tooltip.show()}hideTooltip(){this.tooltip.hide()}render(){const e=this.props,t=e.selected,o=e.total;return n.default.createElement("div",{style:s.DeviceCounter.wrapper},n.default.createElement(a.default,{direction:"left",toolTipText:"selected devices / devices in list",ref:e=>{this.tooltip=e}}),n.default.createElement("div",{"data-handle":"device-counter",role:"tooltip",style:s.DeviceCounter.text,onMouseDown:this.showTooltip,onMouseUp:this.hideTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},"".concat(t," / ").concat(o)))}}t._DeviceCounter=c,c.propTypes={total:r.default.number,selected:r.default.number};const d=e=>({selected:(0,i.selectedDeviceCountSelector)(e),total:(0,i.selectTotalNumberOfDevices)(e)});t._mapStateToProps=d;var p=(0,l.connect)(d,null)(c);t.default=p},443:function(e,t,o){"use strict";o(0),Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._DeviceColumnsContainer=t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=n?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(56)),r=d(o(20)),l=d(o(13)),a=d(o(262)),i=o(79),s=o(24),u=o(230),c=o(58);function d(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}const f=e=>{let t=e.onSetColumnVisible,o=e.columnsVisibility;const n=[...i.DEVICE_COLUMNS];return n.forEach((e,t)=>{n[t].isVisible=(0,u.isVisibleColumn)(o,e)}),l.default.createElement("div",{"data-handle":"device-column-select"},l.default.createElement(a.default,{onChange:(e,o)=>t(i.DEVICE_MANAGER_USER_STORAGE_PATH,e,o),columns:n.filter(e=>e.canBeHidden),enabled:!0}))};t._DeviceColumnsContainer=f,f.propTypes={onSetColumnVisible:r.default.func.isRequired,columnsVisibility:r.default.shape(Object)};const h=e=>({columnsVisibility:(0,c.selectDeviceColumns)(e)});t._mapStateToProps=h;const b=e=>({onSetColumnVisible:(t,o,r)=>e(n.setColumnVisibilityAction(t,o,r))});t._mapDispatchToProps=b;var m=(0,s.connect)(h,b)(f);t.default=m},444:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(o(13)),r=c(o(20)),l=o(24),a=c(o(228)),i=c(o(239)),s=o(233),u=c(o(294));function c(e){return e&&e.__esModule?e:{default:e}}class d extends n.default.Component{constructor(e){super(e),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this)}showTooltip(){this.tooltip.show()}hideTooltip(){this.tooltip.hide()}render(){const e=this.props,t=e.showAddDeviceModal,o=e.path;return n.default.createElement("div",null,n.default.createElement(a.default,{direction:"right",toolTipText:"add device",ref:e=>{this.tooltip=e}}),n.default.createElement("button",{"data-handle":"add-list-item-button",style:u.default.enabled,onClick:()=>t(o),onMouseDown:this.showTooltip,onMouseUp:this.hideTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},n.default.createElement(i.default,{color:"#ffffff"})))}}d.propTypes={path:r.default.string,showAddDeviceModal:r.default.func};var p=(0,l.connect)(null,e=>({showAddDeviceModal:t=>e((0,s.getShowAddDeviceModal)(t))}))(d);t.default=p},445:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(o(13)),r=u(o(20)),l=o(24),a=o(134),i=o(58),s=u(o(446));function u(e){return e&&e.__esModule?e:{default:e}}class c extends n.default.Component{constructor(e){super(e),this.deleteSelected=this.deleteSelected.bind(this)}deleteSelected(){const e=this.props,t=e.devices;(0,e.onDelete)(t.map(e=>e.rowKey))}render(){const e=this.props.devices;return n.default.createElement(s.default,{enabled:e.length>0,onRemoveDevices:this.deleteSelected})}}c.propTypes={devices:r.default.arrayOf(Object),onDelete:r.default.func};var d=(0,l.connect)(e=>({devices:(0,i.selectedDeviceRowsSelector)(e)}),e=>({onDelete(t){e((0,a.deleteNodesThunk)({paths:t}))}}))(c);t.default=d},446:function(e,t,o){"use strict";o(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(o(13)),r=c(o(20)),l=c(o(260)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=n?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(23)),i=c(o(228)),s=c(o(294));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}class d extends n.default.Component{constructor(e){super(e),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this)}showTooltip(){this.tooltip.show()}hideTooltip(){this.tooltip.hide()}render(){const e=this.props,t=e.enabled,o=e.onRemoveDevices;return n.default.createElement("div",null,n.default.createElement("button",{"data-handle":"remove-list-item-button",style:t?s.default.enabled:s.default.disabled,onClick:o,onMouseDown:this.showTooltip,onMouseUp:this.hideTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},n.default.createElement(l.default,{color:t?a.color3:a.color9})),n.default.createElement(i.default,{direction:"right",toolTipText:"remove device",ref:e=>{this.tooltip=e}}))}}t.default=d,d.propTypes={enabled:r.default.bool,onRemoveDevices:r.default.func}},447:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createAlarmCell=t._createButtonCellFactory=t._configurationCellFactory=t._mapStateToProps=t._mapDispatchToProps=t._DeviceListContainer=t.default=void 0,o(1),o(0);var n=L(o(295)),r=L(o(247)),l=L(o(13)),a=L(o(249)),i=L(o(20)),s=L(o(229)),u=L(o(261)),c=o(24),d=o(77),p=o(133),f=o(107),h=o(297),b=o(3),m=o(4),v=o(135),y=o(241),g=o(233),O=o(61),w=o(298),D=o(248),C=o(58),E=o(79),_=o(44),P=o(109),T=o(56),M=o(263),S=o(45),j=o(230),A=L(o(450));function L(e){return e&&e.__esModule?e:{default:e}}function x(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?x(o,!0).forEach((function(t){R(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):x(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function R(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const G=50,I="deviceList",F=e=>Array.isArray(e)&&e.includes(E.ALARM_PRECEDENCE[0]),N=(0,s.default)(I).list,U=(e,t,o)=>{if("cleared"===e)return l.default.createElement(A.default,{severity:e});const n=(0,d.getLinkWithPath)("".concat(o,"/al:alarm-summary"));return l.default.createElement("div",{style:(0,s.default)("defaultStyle").list.row.alarm},l.default.createElement(p.Link,{to:n},l.default.createElement(A.default,{severity:e})))};t._createAlarmCell=U;const V=(e,t,o)=>{const n=(0,d.getLinkWithPath)("".concat(o,"/config")),r="config-".concat(t);return l.default.createElement("div",{key:r,style:N.cell.buttonWrapper},l.default.createElement(p.Link,{to:n,style:N.cell.link},(0,f.translate)("devicemanager.config_button")))};t._configurationCellFactory=V;const H=(e,t,o,r,a)=>(i,s,u)=>{const c=(0,m.pathOr)(void 0,["yangAction","status"],i);return l.default.createElement(n.default,{style:r,result:(i||{}).status,status:c,path:u,action:e,onAction:t,onExpand:o,isExpanded:(i||{}).isExpanded,actionIndicatorTimeout:a,completedAt:i&&i.yangAction?i.yangAction.completedAt:0})};t._createButtonCellFactory=H;const W=e=>k({},(0,D.getDefaultColumn)(),{},E.DEVICE_COLUMNS.find(t=>t.key===e));class B extends l.default.Component{constructor(e){super(e),this.onSelectAllRows=this.onSelectAllRows.bind(this),this.onSelectRow=this.onSelectRow.bind(this),this.onChangeSortOrder=this.onChangeSortOrder.bind(this),this.onCometUpdate=this.onCometUpdate.bind(this),this.onConfirm=this.onConfirm.bind(this),this.onClose=this.onClose.bind(this),this.onGoToPage=this.onGoToPage.bind(this),this.onRunAction=this.onRunAction.bind(this),this.handleExpand=this.handleExpand.bind(this),this.state={hasSelectedAll:!1,errorOnCreate:void 0},this.actions={ping:{},connect:{}},this.timer=new _.Timer(3e4)}componentDidMount(){const e=this.props,t=e.onLoad,o=e.onLoadActionStatusIndicatorTimeout,n=e.onSubscribe,r=e.selection;t(1,e.sortColumn,e.sortOrder,e.xpathExpression,r),n(this.onCometUpdate),o(),this.timer.start()}componentDidUpdate(e){const t=e.alarms,o=e.deviceGroupChangeIsPending,n=e.hasActiveLabels,r=e.onLoad,l=e.offset,a=e.selection,i=e.sortColumn,s=e.sortOrder,u=e.rows,c=e.totalNumberOfResults,d=e.xpathExpression,p=this.props,f=p.xpathExpression,h=p.deviceGroupChangeIsPending,m=p.alarms,v=p.selection;(d!==f||!(0,b.isEqual)(a,v)||n&&o&&!h||t!==m)&&r(1,i,s,f,v),u&&0===u.length&&c>0&&this.onGoToPage(Math.max(1,l-G))}componentWillUnmount(){const e=this.props.onUnsubscribe;this.timer.stop(),e(this.onCometUpdate)}onSelectAllRows(e){const t=this.props,o=t.rows,n=t.onSelectRows;this.setState({hasSelectedAll:e}),n(e,o.map(e=>e.rowKey))}onSelectRow(e,t){this.props.onSelectRows(e,[t])}onChangeSortOrder(e){const t=this.props,o=t.onLoad,n=t.selection,r=t.sortOrder,l=t.sortColumn,a=t.isLoading,i=t.xpathExpression;if(!a){const t=F(l)?"alarm":l;let a="ascending",s=e;e===t&&"descending"!==r&&(a="descending"),e===t&&"descending"===r&&(a=void 0,s=void 0);const u=1;"alarm"===s&&(s=E.ALARM_PRECEDENCE),o(u,s,a,i,n)}}onCometUpdate(e,t){const o=this.props,n=o.onCreate,r=o.onDelete,l=o.onModifiedNodes,a=o.onUpdateLeaf;(0,M.updateConfig)(e,t.path,{onCreate:n,onDelete:r,onModifiedNodes:l,onUpdateLeaf:a})}onGoToPage(e){const t=this.props,o=t.isLoading,n=t.onLoad,r=t.selection,l=t.sortOrder,a=t.sortColumn,i=t.xpathExpression;o||n(e,a,l,i,r)}onRunAction(e,t){(0,this.props.onAction)(e,t)}onClose(){const e=this.props.onHideAddDeviceModal;this.setState({errorOnCreate:void 0}),e()}onConfirm(e,t){const o=this.props,n=o.offset;return(0,o.onAddDevice)(e,t,n,o.sortColumn,o.sortOrder,o.xpathExpression).then(e=>{e.error?this.setState({errorOnCreate:e.error}):this.onClose()})}handleExpand(e,t){const o=this.props,n=o.onExpand,r=o.rows.find(t=>t.rowKey===e).data.expandable,l=r.isExpanded,a=r.column;n(e,t,!l||t!==a)}render(){const e=this.props,t=e.columnsVisibility,o=e.isLoading,n=e.offset,i=e.rows,s=e.showAddDeviceModal,c=e.sortColumn,f=e.sortOrder,b=e.totalNumberOfResults,m=e.actionIndicatorTimeout,v=this.state,y=v.hasSelectedAll,g=v.errorOnCreate,O=[...E.COLUMNS_SELECTION],w={columnKey:F(c)?"alarm":c,isDesc:"descending"===f};let C=O.map(e=>{let t=e.title,o=e.key;return k({},(0,D.getDefaultColumn)(),{createHeader:(0,D.createSortableHeaderFactory)(this.onChangeSortOrder,w),createCell:(0,D.createKeyCellFactory)(d.CONFIGURATION_EDITOR_NAME,p.Link),title:t,key:o})});if(C.unshift(k({},(0,D.getDefaultColumn)(),{key:"isSelected",canBeHidden:!1,isSticky:!0,title:"is selected",createHeader:(0,D.createCheckboxHeaderFactory)(y,this.onSelectAllRows,I),createCell:(0,D.createCheckBoxCellFactory)(this.onSelectRow,I)})),C.unshift(k({},(0,D.getDefaultColumn)(),{key:"isDirty",canBeHidden:!1,isSticky:!0,title:"is dirty",createHeader:(0,D.createEmptyHeaderFactory)(I),createCell:(0,D.createDirtyCellFactory)(I)})),E.COLUMNS_ACTION.forEach(e=>{let t=e.key;return C.push(k({},W(t),{createHeader:(0,D.createHeaderFactory)("defaultStyle",N.header.found),createCell:H(t,this.onRunAction,this.handleExpand,N.cell.actionButton,m)}))}),C.push(k({},W("alarm"),{createCell:U,createHeader:(0,D.createSortableHeaderFactory)(()=>this.onChangeSortOrder("alarm"),w)})),C.push(k({},W("config"),{createCell:V})),2===(C=C.filter(e=>(0,j.isVisibleColumn)(t,e))).length){const e=k({},(0,D.getDefaultColumn)("empty"),{title:""});C.push(e)}C.push(k({},W("expandable"),{createCell:(0,h.createResultCellFactory)()}));const _=[0===b&&l.default.createElement("div",{key:"empty",style:N.empty},"No devices in list"),l.default.createElement(a.default,{chunkSize:G,key:"pagination",offset:n,onGoToPage:this.onGoToPage,totalNumberOfResults:b})];return l.default.createElement("div",{"data-handle":"list-wrapper"},l.default.createElement(r.default,{additionalElements:_,chunkSize:G,columns:C,isLoading:o,LinkComponent:p.Link,offset:n,rows:i,shouldPadRows:!1,styleName:"deviceList",totalNumberOfResults:b,shouldRetainColumnsSize:!1,nrOfStaticColumns:2}),s&&l.default.createElement(u.default,{title:"Add device",path:E.deviceListPath,onConfirm:this.onConfirm,onClose:this.onClose,closeOnConfirm:!1,error:g}))}}t._DeviceListContainer=B,B.propTypes={alarms:i.default.shape({}),columnsVisibility:i.default.shape(Object),deviceGroupChangeIsPending:i.default.bool,hasActiveLabels:i.default.bool,actionIndicatorTimeout:i.default.string,isLoading:i.default.oneOfType([i.default.bool,i.default.shape({})]),offset:i.default.number,onAction:i.default.func.isRequired,onAddDevice:i.default.func,onCreate:i.default.func,onDelete:i.default.func,onExpand:i.default.func,onHideAddDeviceModal:i.default.func,onLoad:i.default.func.isRequired,onLoadActionStatusIndicatorTimeout:i.default.func,onModifiedNodes:i.default.func,onSelectRows:i.default.func.isRequired,onSubscribe:i.default.func.isRequired,onUnsubscribe:i.default.func.isRequired,onUpdateLeaf:i.default.func,rows:i.default.arrayOf(Object),selection:i.default.arrayOf(i.default.string),showAddDeviceModal:i.default.bool,sortColumn:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),sortOrder:i.default.string,totalNumberOfResults:i.default.number,xpathExpression:i.default.string},B.defaultProps={columns:[],rows:[],selection:[]};const z=e=>{const t=(0,C.deviceListIsLoading)(e)||(0,O.selectSchemaIsLoading)(e,E.devicesRootPath)||(0,w.selectGlobalSettingsIsLoading)(e),o=(0,C.selectDeviceColumns)(e),n=Object.keys(o),r=E.QUERY_SELECTION.filter(e=>!n.includes(e)||o[e]!==S.COLUMN_VISIBILITY.HIDDEN_USER);return{alarms:(0,C.selectDeviceAlarms)(e),columnsVisibility:o,deviceGroupChangeIsPending:(0,C.selectDeviceGroupChangeIsPending)(e),hasActiveLabels:(0,C.selectHasActiveLabels)(e),isLoading:t,offset:(0,C.selectDeviceOffset)(e),rows:(0,C.deviceRowSelector)(e),selection:r,showAddDeviceModal:(0,C.selectShowAddDeviceModal)(e),sortColumn:(0,C.selectDeviceSortColumn)(e),sortOrder:(0,C.selectDeviceSortOrder)(e),totalNumberOfResults:(0,C.selectTotalNumberOfDevices)(e),xpathExpression:(0,C.selectDeviceXpathExpression)(e),actionIndicatorTimeout:(0,w.selectGlobalSetting)(e,y.ACTION_STATUS_INDICATOR_TIMEOUT)}};t._mapStateToProps=z;const K=e=>({onAction(t,o){e((0,v.runCustomActionThunk)({path:"".concat(o,"/").concat(t)}))},onLoad(t,o,n,r,l){e((0,g.getDevices)({chunkSize:G,offset:t,columnKey:o,selection:l,sortorder:n,xpathExpression:r}))},onLoadActionStatusIndicatorTimeout(){e((0,y.getGlobalApplicationSetting)({setting:y.ACTION_STATUS_INDICATOR_TIMEOUT}))},onSelectRows(t,o){e((0,g.selectDeviceAction)(t,o))},onHideAddDeviceModal:()=>e((0,g.getHideAddDeviceModal)()),onExpand:(t,o,n)=>e((0,g.setDeviceExpandedAction)(t,o,n)),onAddDevice:(t,o,n,r,l,a)=>e((0,g.addDevice)({parentPath:t,keyValues:o,chunkSize:G,offset:n,columnKey:r,sortorder:l,xpathExpression:a})),onSubscribe(t){e((0,P.subscribeCdbOperAction)([E.alarmsPath],t)),e((0,P.subscribeChangesAction)([E.deviceListPath],t))},onUnsubscribe(t){e((0,P.unsubscribeCdbOperAction)([E.alarmsPath],t)),e((0,P.unsubscribeChangesAction)([E.deviceListPath],t))},onModifiedNodes(t){e((0,T.modifiedNodesAction)(t))},onUpdateLeaf(t,o){e((0,T.getValueAction)(t,o))},onDelete(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e(!0!==o?(0,T.deleteAction)(t):(0,T.deleteNodeAndChildrenAction)(t))},onCreate(t){e((0,T.createAction)(t))}});t._mapDispatchToProps=K;var q=(0,c.connect)(z,K)(B);t.default=q},450:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Symbol=void 0;var n=u(o(13)),r=u(o(20)),l=u(o(270)),a=u(o(451)),i=o(79),s=u(o(452));function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>{let t=e.severity;const o=(s.default[t]||s.default.cleared).color;return[i.ALARM_STATUS.MAJORS,i.ALARM_STATUS.CRITICALS,i.ALARM_STATUS.MINORS].includes(t)?n.default.createElement(l.default,{color:o}):!![i.ALARM_STATUS.WARNINGS,i.ALARM_STATUS.INDETERMINATES].includes(t)&&n.default.createElement(a.default,{color:o})};t.Symbol=c;const d=e=>{let t=e.severity;return n.default.createElement("div",{"data-handle":"alarm-".concat(t),style:s.default.wrapper},n.default.createElement(c,{severity:t}))};d.propTypes={severity:r.default.string};var p=d;t.default=p},451:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(13)),r=l(o(20));function l(e){return e&&e.__esModule?e:{default:e}}const a=e=>{let t=e.color;return n.default.createElement("svg",{version:"1.2",baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",xmlSpace:"preserve"},n.default.createElement("path",{fill:t,d:"M12,0C5.4,0,0,5.4,0,12s5.4,12,12,12s12-5.4,12-12S18.6,0,12,0L12,0z M12,18c-0.6,0-1-0.5-1-1 s0.4-1,1-1c0.5,0,1,0.5,1,1S12.5,18,12,18L12,18z M13,12.5c0,0.5-0.5,1-1,1c-0.6,0-1-0.5-1-1V7c0-0.6,0.4-1,1-1c0.5,0,1,0.4,1,1 V12.5L13,12.5z"}))};a.propTypes={color:r.default.string};var i=a;t.default=i},452:function(e,t,o){"use strict";o(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=n?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(o,l,a):o[l]=e[l]}o.default=e,t&&t.set(e,o);return o}(o(23));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}var l={criticals:{color:n.color5},majors:{color:n.color17},minors:{color:n.color15},warnings:{color:n.color4},indeterminates:{color:n.color6},cleared:{color:n.color15},wrapper:{width:"1.2rem",alignSelf:"center",justifySelf:"center",lineHeight:0}};t.default=l},453:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._LabelsMenuContainer=t.default=void 0;var n=u(o(13)),r=u(o(20)),l=o(24),a=o(58),i=o(233),s=u(o(454));function u(e){return e&&e.__esModule?e:{default:e}}class c extends n.default.Component{UNSAFE_componentWillMount(){const e=this.props,t=e.status,o=e.onGetDeviceGroupsForSelectedDevices;t&&t!==a.loadStatus.NOT_LOADED||o()}render(){const e=this.props,t=e.devices,o=e.deviceGroups,r=e.onAddDevicesToGroup,l=e.onRemoveDevicesFromGroup;return n.default.createElement(s.default,{deviceGroups:o,devices:t.map(e=>e.data.name),onAddDevicesToGroup:r,onRemoveDevicesFromGroup:l,enabled:t.length>0})}}t._LabelsMenuContainer=c,c.propTypes={devices:r.default.arrayOf(Object),deviceGroups:r.default.arrayOf(r.default.string),status:r.default.string,onAddDevicesToGroup:r.default.func,onGetDeviceGroupsForSelectedDevices:r.default.func,onRemoveDevicesFromGroup:r.default.func},c.defaultProps={deviceGroups:[],devices:[],onGetDeviceGroupsForSelectedDevices:()=>null};const d=e=>({onGetDeviceGroupsForSelectedDevices(){e((0,i.loadDeviceGroups)())},onRemoveDevicesFromGroup(t,o){e((0,i.removeDevicesFromGroup)(t,o))},onAddDevicesToGroup(t,o){e((0,i.addDevicesToGroup)(t,o))}});t._mapDispatchToProps=d;const p=e=>({devices:(0,a.selectedDeviceRowsSelector)(e),deviceGroups:(0,a.selectDeviceGroupsByDeviceUnion)(e),status:(0,a.selectLoadStatus)(e)});t._mapStateToProps=p;var f=(0,l.connect)(p,d)(c);t.default=f},454:function(e,t,o){"use strict";o(0),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(o(13)),r=d(o(20)),l=d(o(228)),a=d(o(299)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=n?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(23)),s=o(271),u=d(o(455));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}class p extends n.default.Component{constructor(e){super(e),this.onAddDevicesToGroup=this.onAddDevicesToGroup.bind(this),this.onRemoveDevicesFromGroup=this.onRemoveDevicesFromGroup.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.hideMenu=this.hideMenu.bind(this),this.showMenu=this.showMenu.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={menuOpen:!1}}UNSAFE_componentWillReceiveProps(e){const t=e.enabled,o=this.props.enabled;!t&&o&&this.hideMenu()}componentDidUpdate(){this.newLabelInput&&this.newLabelInput.focus()}onKeyDown(e){13===e.keyCode&&this.onAddDevicesToGroup(),27===e.keyCode&&this.hideMenu()}onAddDevicesToGroup(){this.newLabelInput.focus();const e=this.props,t=e.devices,o=e.onAddDevicesToGroup;this.newLabelInput.value&&t.length&&(o(t,this.newLabelInput.value),this.newLabelInput.value="")}onRemoveDevicesFromGroup(e){const t=this.props,o=t.devices;(0,t.onRemoveDevicesFromGroup)(o,e)}showMenu(){this.props.enabled&&this.setState({menuOpen:!0})}hideMenu(){this.setState({menuOpen:!1})}showTooltip(){this.tooltip.show()}hideTooltip(){this.tooltip.hide()}render(){const e=this.props,t=e.deviceGroups,o=e.enabled,r=this.state.menuOpen,c=t.map(e=>n.default.createElement("div",{"data-handle":"menu-item-".concat(e),key:"menu-item-".concat(e),style:s.labelsMenu.labelContainer},n.default.createElement("div",{style:s.labelsMenu.label},e),n.default.createElement("button",{style:s.labelsMenu.deleteLabel,onClick:()=>this.onRemoveDevicesFromGroup(e)},"×"))),d=o?i.color1:i.color6;return n.default.createElement("div",{style:s.labelsMenu.container,"data-handle":"label-menu"},n.default.createElement(l.default,{direction:"left",toolTipText:"add/remove groups",ref:e=>{this.tooltip=e}}),n.default.createElement("button",{style:s.labelsMenu.button,onClick:this.showMenu,onMouseDown:this.showTooltip,onMouseUp:this.hideTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip,disabled:!1},n.default.createElement("div",{style:s.labelsMenu.symbol},n.default.createElement(u.default,{color:d})),n.default.createElement("div",{style:s.labelsMenu.arrow},n.default.createElement(a.default,{color:d}))),r&&n.default.createElement("div",{style:s.labelsMenu.pop},n.default.createElement("button",{"data-handle":"overlay",onClick:()=>this.hideMenu(),style:s.labelsMenu.overlay}),n.default.createElement("div",{style:s.labelsMenu.menuArrowShadow}),n.default.createElement("div",{style:s.labelsMenu.wrapper},n.default.createElement("div",{style:s.labelsMenu.header},"Groups in selection:"),c,n.default.createElement("div",{"data-handle":"add-label",style:s.labelsMenu.createContainer},n.default.createElement("input",{style:s.labelsMenu.input,placeholder:"add label",ref:e=>(this.newLabelInput=e,this.newLabelInput),onKeyDown:this.onKeyDown}),n.default.createElement("button",{style:s.labelsMenu.deleteLabel,onClick:this.onAddDevicesToGroup},"+"))),n.default.createElement("div",{style:s.labelsMenu.menuArrow})))}}p.propTypes={devices:r.default.arrayOf(r.default.string),deviceGroups:r.default.arrayOf(r.default.string),enabled:r.default.bool,onAddDevicesToGroup:r.default.func,onRemoveDevicesFromGroup:r.default.func},p.defaultProps={deviceGroups:[],devices:[],onGetDeviceGroupsForSelectedDevices:()=>null};var f=p;t.default=f},455:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(13)),r=l(o(20));function l(e){return e&&e.__esModule?e:{default:e}}const a=e=>{let t=e.color;return n.default.createElement("svg",{version:"1.2",baseProfile:"tiny",x:"0px",y:"0px",viewBox:"0 0 23 24"},n.default.createElement("path",{fill:t,d:"M23,8l-1-8l-8.3,0L0,16.1L9.3,24L23,8z M17.8,2.3c0.5-0.6,1.5-0.7,2.2-0.2c0.6,0.5,0.7,1.5,0.2,2.2S18.6,5,18,4.4 c0,0,0,0,0,0l0,0C17.4,3.9,17.3,2.9,17.8,2.3z"}))};a.propTypes={color:r.default.string},a.defaultProps={color:"red"};var i=a;t.default=i},456:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._LabelFilterContainer=t.default=void 0,o(1),o(0);var n=d(o(13)),r=d(o(20)),l=o(24),a=o(233),i=o(58),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var l=n?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(o,r,l):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(457)),u=d(o(300));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class h extends n.default.Component{constructor(e){super(e),this.getFilteredLabels=this.getFilteredLabels.bind(this),this.labelAdd=this.labelAdd.bind(this),this.onBlur=this.onBlur.bind(this),this.onChange=this.onChange.bind(this),this.onFilterMenuRef=this.onFilterMenuRef.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.isElementInVisibleInList=this.isElementInVisibleInList.bind(this),this.state={autoCompleteIsVisible:!1,dropDownIndex:0,inputValue:"",inputLabels:[]}}componentDidUpdate(){this.deviceGroupsOption&&this.deviceGroups&&!this.isElementInVisibleInList()&&(this.deviceGroups.scrollTop=this.deviceGroupsOption.offsetTop)}onFocus(){const e=this.getFilteredLabels("");this.setState({autoCompleteIsVisible:!0,dropDownIndex:0,inputLabels:e})}onBlur(){this.setState({autoCompleteIsVisible:!1,inputValue:""})}onChange(e){const t=this.getFilteredLabels(e);this.setState({dropDownIndex:0,inputValue:e,inputLabels:t})}onKeyDown(e){const t=this.state,o=t.autoCompleteIsVisible,n=t.dropDownIndex,r=t.inputLabels;if("Enter"===e.key&&o){r[n]&&this.labelAdd()}if("Escape"===e.key&&this.setState({autoCompleteIsVisible:!1,inputValue:""}),("ArrowUp"===e.key||"ArrowDown"===e.key)&&o){const t=r.length,o="ArrowUp"===e.key?-1:1;this.setState({dropDownIndex:(n+o+t)%t}),e.preventDefault()}}onFilterMenuRef(e){this.deviceGroups=e}getFilteredLabels(e){const t=this.props,o=t.deviceGroups,n=t.labels,r=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(o,!0).forEach((function(t){f(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},i.labelTypes);delete r[i.labelTypes.SEARCH];const l=Object.keys(o).filter(e=>!(Object.values(n).map(e=>e.name).indexOf(e)>=0)&&(!!o[e]&&0!==o[e].length)),a=l.filter(t=>!!t.startsWith(e)),s=l.filter(t=>!(!t.includes(e)||t.startsWith(e))),u=a.concat(s).reduce((e,t)=>[...e,...Object.values(r).map(e=>({name:t,type:e}))],[]);return e?[{name:e,type:i.labelTypes.SEARCH},...u]:u}getFilteredGroupsComponents(){const e=this.state,t=e.autoCompleteIsVisible,o=e.dropDownIndex,r=e.inputLabels;return t?r.map((e,t)=>n.default.createElement("a",{className:"deviceGroups",role:"button",tabIndex:0,onMouseDown:()=>this.labelAdd(e),"data-handle":"label-add-".concat(e.name,"-").concat(e.type),style:o===t?u.default.deviceGroupsOptionsActive:u.default.deviceGroupsOptions,ref:t===o&&(e=>{this.deviceGroupsOption=e}),key:"info".concat(t)},(0,s.getLabelTextNode)(e))):[]}labelAdd(e){const t=this.state.dropDownIndex,o=this.props.onLabelAdd,n=this.state.inputLabels[t];(e||n)&&(o(e||n),this.setState({inputValue:""}))}isElementInVisibleInList(){if(!this.props.deviceGroups)return!1;const e=this.deviceGroupsOption.getBoundingClientRect();return e.bottom>this.deviceGroups.bottom&&e.top<this.deviceGroups.top}render(){const e=this.props,t=e.labels,o=e.onLabelRemove,r=this.state.autoCompleteIsVisible,l=this.getFilteredGroupsComponents();return n.default.createElement(s.default,{autoCompleteIsVisible:r,filteredDeviceGroups:l,labels:t,onBlur:this.onBlur,onChange:this.onChange,onFilterMenuRef:this.onFilterMenuRef,onFocus:this.onFocus,onKeyDown:this.onKeyDown,onLabelRemove:o,value:this.state.inputValue})}}t._LabelFilterContainer=h,h.propTypes={deviceGroups:r.default.shape(Object),labels:r.default.shape(Object),onLabelAdd:r.default.func.isRequired,onLabelRemove:r.default.func.isRequired},h.defaultProps={labels:{}};const b=e=>({onLabelAdd(t){e((0,a.labelAddAction)(t))},onLabelRemove(t){e((0,a.labelRemoveAction)(t))},onLoadDeviceGroups(){e((0,a.loadDeviceGroups)())}});t._mapDispatchToProps=b;const m=e=>({deviceGroups:(0,i.selectDeviceGroupsWithDevices)(e),labels:(0,i.selectLabels)(e),status:(0,i.selectLoadStatus)(e)});t._mapStateToProps=m;var v=(0,l.connect)(m,b)(h);t.default=v},457:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getLabelTextNode=t.getLabelTypeText=t.getLabelTypeColor=void 0,o(1),o(0);var n=u(o(13)),r=u(o(20)),l=o(58),a=u(o(300)),i=u(o(458)),s=u(o(459));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(o,!0).forEach((function(t){p(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const f=e=>{switch(e.type){case l.labelTypes.LBL_ONE_OF:return"#d0c994";case l.labelTypes.LBL_INCLUDE:return"#7faa85";case l.labelTypes.LBL_EXCLUDE:return"#e5a5a5";case l.labelTypes.SEARCH:return"";default:throw Error("Unknown label type: '".concat(e.type,"'"))}};t.getLabelTypeColor=f;const h=e=>{switch(e.type){case l.labelTypes.LBL_ONE_OF:return"∪";case l.labelTypes.LBL_INCLUDE:return"∩";case l.labelTypes.LBL_EXCLUDE:return"¬";case l.labelTypes.SEARCH:return"include:";default:throw Error("Unknown label type: '".concat(e.type,"'"))}};t.getLabelTypeText=h;const b=e=>n.default.createElement("span",null,n.default.createElement("span",{style:{color:f(e)}},h(e))," ".concat(e.name));t.getLabelTextNode=b;const m=e=>{let t=e.autoCompleteIsVisible,o=e.filteredDeviceGroups,r=e.labels,l=e.onBlur,u=e.onChange,c=e.onFilterMenuRef,p=e.onFocus,f=e.onInitHide,h=e.onKeyDown,m=e.onLabelRemove,v=e.onResetHide,y=e.value;const g=Object.values(r).map((e,t)=>n.default.createElement("div",{style:d({},a.default.wrapper),key:t,"data-handle":"filter-".concat(e.name,"-").concat(e.type)},n.default.createElement("div",{style:a.default.label},b(e)),n.default.createElement("button",{style:a.default.button,onClick:()=>{m(e)},key:"btn".concat(t)},n.default.createElement(s.default,{color:"inherit"}))));return n.default.createElement("div",{style:a.default.labelFilter,"data-handle":"labelFilter"},g,n.default.createElement("div",{style:a.default.wrapper},n.default.createElement("input",{className:i.default.input,onKeyDown:h,"data-handle":"labelInput",onFocus:p,onBlur:l,onChange:e=>u(e.target.value),placeholder:"+Add filter",value:y}),n.default.createElement("span",{style:a.default.button,key:"add"}),t&&o.length>0&&n.default.createElement("div",{style:a.default.popDownMenu.pop},n.default.createElement("div",{style:a.default.popDownMenu.menuArrowShadow}),n.default.createElement("div",{"data-handle":"add-filter-menu",style:a.default.popDownMenu.wrapper,onMouseEnter:v,onMouseLeave:f,onBlur:l,ref:c},n.default.createElement("div",null,o)),n.default.createElement("div",{style:a.default.popDownMenu.menuArrow}))))};m.propTypes={autoCompleteIsVisible:r.default.bool,filteredDeviceGroups:r.default.arrayOf(r.default.shape(Object)),labels:r.default.shape(Object),onBlur:r.default.func,onChange:r.default.func,onFocus:r.default.func,onFilterMenuRef:r.default.func,onInitHide:r.default.func,onKeyDown:r.default.func,onLabelRemove:r.default.func,onResetHide:r.default.func,value:r.default.string};var v=m;t.default=v},458:function(e,t,o){e.exports={input:"_2xF7zrr-NrJ90MnbTZOqo5"}},459:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(13)),r=l(o(20));function l(e){return e&&e.__esModule?e:{default:e}}const a=e=>{let t=e.color;return n.default.createElement("span",{style:{color:t}},"×")};a.propTypes={color:r.default.string},a.defaultProps={color:"red"};var i=a;t.default=i},460:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t.default=void 0;var n,r=o(24),l=o(58),a=o(135),i=(n=o(301))&&n.__esModule?n:{default:n};const s=e=>({rows:(0,l.selectedDeviceRowsSelector)(e),actions:(0,l.selectDeviceActions)(e)});t._mapStateToProps=s;const u=e=>({onAction:(t,o)=>e((0,a.runCustomActionThunk)({path:"".concat(o,"/").concat(t)}))});t._mapDispatchToProps=u;var c=(0,r.connect)(s,u)(i.default);t.default=c},462:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=o(24),l=o(58),a=(n=o(302))&&n.__esModule?n:{default:n};var i=(0,r.connect)(e=>({labels:(0,l.selectLabels)(e),keyword:(0,l.selectDeviceSearch)(e),unit:(0,l.selectHasActiveLabels)(e)||(0,l.selectDeviceSearch)(e)?"devices":""}))(a.default);t.default=i}}]);